<?xml version="1.0" encoding="UTF-8"?>
<job
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="urn:proactive:jobdescriptor:3.4"
     xsi:schemaLocation="urn:proactive:jobdescriptor:3.4 http://www.activeeon.com/public_content/schemas/proactive/jobdescriptor/3.4/schedulerjob.xsd"
    name="Webhook" projectName="Notifications"
    priority="normal"
    onTaskError="continueJobExecution"
     maxNumberOfExecution="2"
>
  <description>
    <![CDATA[ A workflow to trigger a HTTP notification to an URL ]]>
  </description>
  <taskFlow>
    <task name="Webhook"
>
      <description>
        <![CDATA[ Trigger a HTTP notification to an URL ]]>
      </description>
        <scriptExecutable>
            <script>
                <code language="groovy">
                    <![CDATA[
// Please fill variables
String method = "GET or POST"
String url = "http://www.activeeon.com";
String headers = "{key0 = value0, key1 = value1, ...}"
String content = "the content";

// Don't change code below
import org.ow2.proactive.addons.webhook.Webhook;
Webhook.execute ( method, url, headers, content);
]]>
                </code>
            </script>
        </scriptExecutable>
    </task>
  </taskFlow>
</job>