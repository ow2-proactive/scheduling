<?xml version="1.0" encoding="UTF-8"?>
<job xmlns="urn:proactive:jobdescriptor:0.9" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="urn:proactive:jobdescriptor:0.9 http://proactive.inria.fr/schemas/jobdescriptor/0.9/schedulerjob.xsd"
	name="job_nativ" priority="normal" cancelOnException="false">
	<description>Will execute 4 native C tasks and a java task with diamond dependences</description>
	<variables>
		<variable name="HOME" value="/user/fviale/home"/>
		<variable name="PROACTIVE" value="${HOME}/eclipse_workspace/ProActive_Latest/"/>
		<variable name="EXAMPLES" value="${PROACTIVE}/src/Extra/org.objectweb.proactive.extensions.scheduler/examples"/>
	</variables>
	<taskFlow>
		<task name="task1">
			<!-- Task human description -->
			<description>Will display 10 dots every 1s</description>
			<nativeExecutable>
				<staticCommand
					value="${EXAMPLES}/nativTask">
					<arguments>
						<argument value="1"/>
					</arguments>
				</staticCommand>
			</nativeExecutable>
		</task>
		<task name="task2">
			<!-- Task human description -->
			<description>Will display 10 dots every 2s</description>
			<depends>
				<task ref="task1"/>
			</depends>
			<nativeExecutable>

				<staticCommand
					value="${EXAMPLES}/nativTask">
					<arguments>
						<argument value="2"/>
					</arguments>
				</staticCommand>
			</nativeExecutable>
		</task>
		<task name="task3">
			<!-- Task human description -->
			<description>This task will sleep 10s</description>
			<depends>
				<task ref="task1"/>
			</depends>
			<javaExecutable class="org.objectweb.proactive.extensions.scheduler.examples.WaitAndPrint">
				<parameters>
					<parameter name="sleepTime" value="15"/>
					<parameter name="number" value="3"/>
				</parameters>
			</javaExecutable>
		</task>
		<task name="task4" preciousResult="true">
			<!-- Task human description -->
			<description>Will display 10 dots every 1s</description>
			<depends>
				<task ref="task2"/>
				<task ref="task3"/>
			</depends>
			<nativeExecutable>
				<staticCommand
					value="${EXAMPLES}/nativTask">
					<arguments>
						<argument value="1"/>
					</arguments>
				</staticCommand>
			</nativeExecutable>
		</task>
	</taskFlow>
</job>
